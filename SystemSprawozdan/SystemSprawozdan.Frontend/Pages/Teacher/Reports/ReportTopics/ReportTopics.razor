@inject IReportHttpService ReportHttpService

<TabBar Data="@TabBarData" @bind-Value="@ToCheck"/>
<ReportTopicsTable ReportTopics="@ReportTopicGetDtos" SelectedReportTopicId="selectedReportTopicId => SelectedReportTopicId.InvokeAsync(selectedReportTopicId)"/>
@code
{
    [Parameter]
    public EventCallback<int> SelectedReportTopicId { get; set; }

    private List<ReportTopicGetDto> ReportTopicGetDtos;
    private bool? ToCheck
    {
        get => _isMarked;
        set
        {
            _isMarked = value;
            GetReportTopics(ToCheck);
        }
    }
    private bool? _isMarked = null;
    
    public async Task GetReportTopics(bool? toCheck)
    {
        ReportTopicGetDtos = await ReportHttpService.GetReportTopics(toCheck);
        StateHasChanged();
    }

    protected override async Task OnInitializedAsync()
    {
        await GetReportTopics(ToCheck);
    }

    public readonly List<TabBarData<bool?>> TabBarData = new()
    {
        new()
        {
            Text = "Wszystkie",
            Value = null
        },
        new()
        {
            Text = "Nieocenione",
            Value = false
        },
        new()
        {
            Text = "Ocenione",
            Value = true
        },
    };
}